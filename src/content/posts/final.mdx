---
title: Final Project - How to Make Almost Anything
slug: final
description: Final project of HTMAA 2024
category:
  - One
tags:
  - Tailwind
  - Astro
  - Jamstack
pubDate: 2024-12-25
cover: https://images.unsplash.com/photo-1516557070061-c3d1653fa646??w=1960&h=1102&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YmxhY2t8ZW58MHwwfDB8fHwy
coverAlt: AstroVerse-Aliases
author: VV
---

import CustomVideo from "@components/CustomVideo.astro";
import OptimizedCover from "@components/OptimizedPicture.astro";
import { Vimeo } from 'astro-embed';
import alan_debug from "../images/final/alan_debug.jpg";
import alan_math from '../images/final/alan_math.jpg';
import cad_2020 from '../images/final/cad_2020.jpg';
import char from '../images/final/char.jpg';
import devboard_11_27 from '../images/final/devboard_11_27.jpg';
import draft_workbench from "../images/final/draft_workbench.jpg";
import light from '../images/final/light.jpg';
import module_drv8825_11_27 from '../images/final/module_drv8825_11_27.jpg';
import module_drv8825_11_27_pcb from '../images/final/module_drv8825_11_27_pcb.jpg';
import new_multiboard from '../images/final/new_multiboard.jpg';
import nikhil from '../images/final/nikhil.jpg';
import pico_all_11_26 from '../images/final/pico_all_11_26.jpg';
import pico_all_11_26_pcb from "../images/final/pico_all_11_26_pcb.jpg";
import pico_devboard_11_27 from '../images/final/pico_devboard_11_27.jpg';
import pico_devboard_11_27_pcb from '../images/final/pico_devboard_11_27_pcb.jpg';
import pico_map from '../images/final/pico_map.jpg';
import schem_tmc2209 from '../images/final/schem_tmc2209.jpg';
import wire_tmc2209 from '../images/final/wire_tmc2209.jpg';


For my final project, I am thinking about creating a kinetic robot that is a cable robot

This is from the art group called artcom

## Some referrences of projects that are similar

### Artcom Raffaels Pendel 2018


<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/XqU1mvKcLaA?si=PIv24S9-EeH0toDU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>


### Artcom  RGB|CMY Kinetic 2015

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/sgDr7IhHajc?si=6qgeV2_9R2S336sG" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>


### Koriobots from Madeline Gannon
https://github.com/madelinegannon/koriobots


### Studio Drift 

#### shylight
https://studiodrift.com/work/shylight/

#### meadow

https://studiodrift.com/work/meadow/

#### shy society
https://studiodrift.com/work/shy-society/

#### amplitude
https://studiodrift.com/work/amplitude/

### Random International
#### 2019 Kinds of Life

https://www.random-international.com/kinds-of-life

Some people making bubbles utilizing the wire
https://www.creativeapplications.net/member-submissions/controlled-uncontrollables-sad-and-the-bubble-printer/





<OptimizedCover
  src={
    "https://artcom.de/wp-content/uploads/2016/09/2015_PendulumCasaV_landingPage-e1486115126323-1360x680.jpg"
  }
  alt="Group assignment"
/>

These types of robots are great and I was also thinking that it would tie up well to the theme of 99 fridays this year about carnivals.

A roboticist named Madeline Gannon who has working on a similar project called [Koriobots](https://github.com/madelinegannon/koriobots) was using a very expensive setup that cost like just $400 ish just for the motors and also there were no tutorials, so I was wondering if I could make something that would be hopefully little bit more accessible and open source!



### Research about motors


This is a good starting point for learning about different types of motors. https://learn.adafruit.com/adafruit-motor-selection-guide/types-of-motors
https://learn.adafruit.com/adafruit-motor-selection-guide/types-of-motors

I wanted to know what the difference was between the 2 modules that seemed to be avaliable to us out of the ESP family, the ESP32-S2 and the ESP32-C3.
[This link](https://www.cnx-software.com/2022/01/12/esp32-s3-esp32-c3-esp8266-modules-comparison/) compared the two differences of the modules and it really came down to the S3 is just a beefier version of the C3

The datasheet seems to be [this](https://wiki.seeedstudio.com/xiao_esp32s3_getting_started/)

It also seems to be like they recommend using the same board manager as the espriff series, maybe it is like that because the software should compile the same but the hardware schematics are different so it would be different if you saw it on Kicad or something.

The kicad files were at the bottom of the page on the [wiki](https://wiki.seeedstudio.com/xiao_esp32s3_getting_started/)

It would also be cool to look into how these OSC operated motors work.


https://www.designboom.com/design/lasvit-kinetic-programmable-glass-lighting-systems-05-16-2014/
https://www.designboom.com/art/spy-kinetic-installation-bern-hospital-atrium-loops-studio-banana-10-08-2023/


### Motor controllers

Kanta Horio made these [Step400](https://ponoor.com/en/products/step400/) boards that take in OSC messages and control the motors.

<OptimizedCover
  src={
    "https://ponoor.com/cms/wp-content/uploads/2021/03/IMG_4219-1600x1067.jpg"
  }
  alt="Group assignment"
/>

100 Base TX  vs 100BASE-T
```plaintext 100BASE-T is a way to describe the family of physical layers (or PHYs) that can be used to support 100 Mb/s baseband networks. This family of PHYs includes: 100BASE-TX, 100BASE-T4 and 100BASE-T2. Because 100BASE-T2 and 100BASE-T4 failed to gain market adoption, many adopted the term 100BASE-T to imply the use of the 100BASE-TX PHY; thereby, making the terms synonymous 
```



https://ponoor.com/en/updates/2020/11/pros-and-cons-of-stepper-motors/

## microstepping

Information about microstepping
https://hackaday.com/2016/08/29/how-accurate-is-microstepping-really/

https://hangprinter.org/


# Nov5th 

I talked with Nick on how I should proceed with my device, but it seemed like it was more about knowing what I was going to hang on my wire robots. If it was something that would be light and don't really need alot of torque, I would not have to use something with alot of torque.


The basics seems like there are a few paths that I can take

Stepper motors
+ easy to manipulate
+ pretty cheap
+ can be controlled using a driver
- can slip 
- can be noisy
- you need to send how much steps you need to take each time


Servo motors
+ more torque and being able to know what the positing is
+ anti slippage, as it will do the feedback
+ inexpensive
- if they are position rotation servos, they are limited by their degrees of motion
- needs calibration and calibration is hard. calibration shouldn't be done by ourselves.
- relatively harder to manipulate the exact postiioning, as your sending current rather than stepper positions

DC Motors 
+ quiet 
+ effecient and can achieve max torque
+ some require much less mantinence because they dont have brushes (brushless dc motors)
- harder to manipulate the exact postiioning


# Nov 12th

I made my design for the new TMC2209 Stepstick stepper driver and I made 2 for them

<OptimizedCover
  src={
    schem_tmc2209
  }
  alt="Group assignment"
/>

<OptimizedCover
  src={
    wire_tmc2209
  }
  alt="Group assignment"
/>

It doesnt seem to all have turned out quite what I wanted it to be


Things I need to figure out:
- I have 2 motors, how do I move it in a xy plane so that they both are moving something in the center at the same time
- what am I gonna put into the center?
- how do I make sure that I have time to mass produce these things?
- if I were to make some light ring thing, how could I do that and make sure that it works on pico?
- I don't know how to design the wire part



Mid term review comments
try to redesign using nema 17
dont use grooves for now
make a basic ass mount 
figure out mounting mechanism
make whatever we are putting up heavy
try to use one big board instead of breaking it out


Thur Nov 21
I need to make a spool, I have the design like this one but after printing it it seems that I need to add a screw that attaches to the shaft better
https://www.printables.com/model/560628-nema-17-spool/files

if you provide 5v as a power source, you need all the data lines to be 5v too
but 3.3v is standard from esp32

diag for stalling without switches


uart needs to be connected to rx
change to be uart
uart needs to be rx
tx needs to be protected by 
4.73 or 10k

https://www.printables.com/model/237994-nema-23-stepper-motor-spool

https://www.omc-stepperonline.com/nema-17-bipolar-59ncm-84oz-in-2a-42x48mm-4-wires-w-1m-cable-connector-17hs19-2004s1?search=17hs19-



Nov 25th

I was designing a PCB that would work with all the stepper drivers that I wanted, and kind of into one really big board.
The Carvera really was not like all the path traces, and kept shedding around what should be really clean traces

<OptimizedCover src={pico_all_11_26} alt="pico_all_11_26"  />
<OptimizedCover src={pico_all_11_26_pcb} alt="pico_all_11_26_pcb"  />

I really thought this was the way, and I think I actually talked to Alfonso about it, but thinking about it, if any of the parts didn't work, I would have to do the whole thing again, which would be a hassle so I decided to make it into a more modular style board.



Nov 26th

I made the designs for the modular type board that I would make, but it kinda failed because I didn't account for the PCB for the 

Here were the designs that I made
<OptimizedCover src={module_drv8825_11_27} alt="module_drv8825_11_27"  />
<OptimizedCover src={module_drv8825_11_27_pcb} alt="module_drv8825_11_27_pcb"  />
<OptimizedCover src={pico_devboard_11_27} alt="pico_devboard_11_27"  />
<OptimizedCover src={pico_devboard_11_27_pcb} alt="pico_devboard_11_27_pcb"  /> 

It turns out that the PCB didn't have enough clearance for the stepper drivers, but everything else for the integration seemed fine

<OptimizedCover src={devboard_11_27} alt="devboard_11_27"  />

I need to test out if the board actually works, I haven't really used the PICO before.

I talked to some people that know a bit more than me, and I might just make a big boy motherboard type thing rather than small modular type systems.


Nov 27th


add a capacitor to my board

check if the stepper motor works by shorting one of the cables together, 1A to 1B and if there its harder to turn, its working
Just noticed that I had a GND that wasn't connected to the board, so redoing it

<OptimizedCover src={pico_map} alt="pico_map"  />

Nov 28-29

Through a bunch of trial and error, I was able to make a multi driver board that would be able to control a bunch of stepper motor at the same time


<OptimizedCover src={new_multiboard} alt="new_multiboard"  />


I checked that all the stepper motors were working with each driver being connected to a different port of the board.


Dec 2
I got some stepper motors from quentin and I got some feedback from Nikhil how I should be making my parts
He told me if I was going with the way with Brass Tapered Heat-Set Inserts for Plastic  [https://www.mcmaster.com/94180A331/](https://www.mcmaster.com/94180A331/) that I should be making the back part insertable from the otherside so that it is more sturdy, but this didnt work at all.


<OptimizedCover src={nikhil} alt="nikhil"  />



Dec 3
I was able to try and create some of the parts that I needed for my board, which some changes in what I needed to do
It was a good call to be able to fillet the parts of the extruded parts of the slab to the board, which made everything much more sturdy

<OptimizedCover src={cad_2020} alt="cad_2020"  />


But DAMN MY STEPPER MOTORS ARE NOT WORKING with all of them connected, one at a time works and I DONT KNOW WHY



https://www.thingiverse.com/thing:1073567/files


Some of the feedback that I got for what I could do for the middle of the hanging could be works like 

```
prefixes 
harder better faster stronger

```


Dec 4th

I got alan to help me out to figure out why my board wasnt working, it turned out to be a electricity problem and when I was trying to send over 3A over it, one of the stepper motors would trigger a circuit breaker that would stop some of the motors from working.
<OptimizedCover src={alan_debug} alt="alan_debug"  />

We ended up not knowing why something like that would happen, but we just adjusted some of the voltage to make it work.
<OptimizedCover src={alan_math} alt="alan_math"  />





Dec 10th

I talked with Char about my problems with the program to coordinate system conversion, but it wasnt working as well as I thought
<OptimizedCover src={char} alt="char"  />


I talked with Nikhil for quite a bit of time, and he talked to me about how my coordinate system was off. 
It was basically doing a coordinate system that was relative, rather than more absolute.

<OptimizedCover src={draft_workbench} alt="draft_workbench"  />


Here is the code that I used to make the robot move


```
// #define ARDUINOOSC_DEBUGLOG_ENABLE
#include <ArduinoOSCWiFi.h>
#include "AccelStepper.h"

// for accelstepper
#define dirPin 23
#define stepPin 16
#define motorInterfaceType 1

// Create a new instance of the AccelStepper class:
AccelStepper stepper = AccelStepper(motorInterfaceType, stepPin, dirPin);

const char* ssid = "MLDEV";
const char* pwd = "Aysyw2ch?";

const char* host = "192.168.41.200";
const int recv_port = 54321;
const int bind_port = 54345;
const int send_port = 55555;
const int publish_port = 54445;

// Variable to track if the motor is running
bool isRunning = false;
int motorSpeed = 1000;  // Default speed

void onLeft(const OscMessage& m) {
    Serial.println("Received /left command");
    isRunning = true;
    motorSpeed = abs(motorSpeed);  // Ensure positive speed
    if (isRunning) {
        stepper.setSpeed(-motorSpeed);
    }
}

void onRight(const OscMessage& m) {
    Serial.println("Received /right command");
    isRunning = true;
    motorSpeed = abs(motorSpeed);  // Ensure positive speed
    if (isRunning) {
        stepper.setSpeed(motorSpeed);
    }
}

void onStart(const OscMessage& m) {
    Serial.println("Received /start command");
    isRunning = true;
    stepper.setSpeed(stepper.speed());  // Maintain current direction
}

void onStop(const OscMessage& m) {
    Serial.println("Received /stop command");
    isRunning = false;
    stepper.setSpeed(0);  // Stop the motor by setting speed to zero
}

void onSpeed(const OscMessage& m) {
    int newSpeed = m.arg<int>(0);  // Get the speed from the OSC message
    Serial.print("Received /speed command: ");
    Serial.println(newSpeed);

    motorSpeed = abs(newSpeed);  // Update the motor speed, make sure it's positive
    if (isRunning) {
        // Set speed while maintaining current direction
        stepper.setSpeed(stepper.speed() < 0 ? -motorSpeed : motorSpeed);
    }
}

void setup() {
    Serial.begin(115200);
    delay(2000);

#if defined(ESP_PLATFORM) || defined(ARDUINO_ARCH_RP2040)
#ifdef ESP_PLATFORM
    WiFi.disconnect(true, true);  // disable wifi, erase ap info
#else
    WiFi.disconnect(true);  // disable wifi
#endif
    delay(1000);
    WiFi.mode(WIFI_STA);
#endif

    WiFi.begin(ssid, pwd);

    while (WiFi.status() != WL_CONNECTED) {
        Serial.print(".");
        delay(500);
    }

    Serial.print("WiFi connected, IP = ");
    Serial.println(WiFi.localIP());

    // Subscribe to the OSC addresses for control
    OscWiFi.subscribe(recv_port, "/left", onLeft);
    OscWiFi.subscribe(recv_port, "/right", onRight);
    OscWiFi.subscribe(recv_port, "/start", onStart);
    OscWiFi.subscribe(recv_port, "/stop", onStop);
    OscWiFi.subscribe(recv_port, "/speed", onSpeed);

    // Set the maximum speed in steps per second
    stepper.setMaxSpeed(5000);
}

void loop() {
    // Continuously update OSC messages
    OscWiFi.update();

    // Run the motor at the current speed if running
    if (isRunning) {
        stepper.runSpeed();
    }
}
```



Dec 16th


It finally worked!

I tried to glue some leds onto the circles to see if that would help make it light int he dark to make some letters and stuff in the dark.

<OptimizedCover src={light} alt="light"  />

Just in case, I tried to make a sine wave if things went wrong in the demo

<CustomVideo src={"/sin.mp4"} />

Dec 17th


And the final presentation was a bit of a disaster, but I think I did a good job of explaining what I was trying to do and what I was doing. in hindsight, I should have made a better video, better presentation, and better documentation.

<CustomVideo src={"/final.mp4"} />




- [ ] What does it do?

It is a kinetic art robot to be able discs around with AI!

- [ ] Who's done what beforehand?

People like Madeline Gannon have made alot of stuff that involves choreography and kinetic art using wire robots. 

- [ ] What sources did you use?

I used alot of youtube as well as 

- [ ] What did you design?

I designed the housing for the stepper motors, the wire holders, the PCB, the metal discs for the robot,  the software to move the robot, the cutter to make the parts, etc.


- [ ] What materials and components were used?

The materials that I used were 3D printed parts


- [ ] Where did they come from?

They came from Amazon for some of the parts that I bought, CBA for some of the parts, Future Sketches for the extrusions, and some code from the internet.


- [ ] How much did they cost?

The DRV8825 were $20 for 10 of the pieces.
The xiaos themselves cost around $5 dollars per piece. 
The motors were from stepper motor online, 23HS21-0446S, and were $14.92 for 5.



- [ ] What parts and systems were made?

Spool holder, motor holder for the 2020 structures, cable holders, wire holder, PCB, CAD, software, firmware was made.



- [ ] What tools and processes were used?

For the PCB, I used Kicad to make the PCB.

For the CAD, I used Fusion 360 to make the CAD.
I had them all 3D printed out and also I used a laser cutter to make the parts. 

For the software, I used Electron as well as P5JS and Tweakpane to make the software.

For the firmware, I used the Arduino IDE to make the firmware for the ESP32 chip.
- [ ] What questions were answered?

I still wonder why my intial board that went over 2A wasnt working , as well as the TMC2209 that I bought off of BigTreeTech. 

- [ ] What worked? What didn't?

What worked?
Interfacing with the DRV8825 and making it work with the xiao esp32c6 was very successful.

What didn't?
TMC2209 that I bought off of BigTreeTech did not work at all that I was expecting, it should have been working but it wasn't

- [ ] How was it evaluated?

It moved with out fail!


- [ ] What are the implications?

More could have been done to calculate when a certain distance of a disc was reached, we could get some kind of callback or feedback from the robot.
This could make it so that we could optimally send next commands and make the robot move to the next location.


- [ ] Your project should incorporate
- - [x] 2D and 3D design, 
- - [x] additive and subtractive fabrication processes
- - [x] electronics design and production
- - [x] embedded microcontroller design
- - [x] interfacing
- - [x] programming 
- - [x] system integration
- - [x] packaging
- [x] Where possible, you should make rather than buy the parts of your project
- [x] Projects can be separate or joint, but need to show individual mastery of the skills, and be independently operable
- [x] Present your final project, weekly and group assignments, and documentation




Finally, all the files that I used can be found here.
 <a href="/final/final.zip" download>here</a>.